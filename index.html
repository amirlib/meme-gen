<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MemeGen</title>
    <link rel="stylesheet" href="./styles/main.css">
  </head>

  <body onload="onInit()">
    <div class="main-screen" onclick="onCloseEditor()"></div>

    <div class="meme-editor-modal">
      <div class="editor-canvas-container">
        <canvas height="450" width="450" onmousedown="onCanvasMouseDown()" ontouchstart="onCanvasTouchStart()"
          onmousemove="onCanvasMouseMove()" ontouchmove="onCanvasTouchMove()" onmouseup="onCanvasMouseUp()"
          ontouchend="onCanvasTouchEnd()" onmouseout="onCanvasMouseOut()"></canvas>
      </div>

      <div class="editor-main-container flex column">
        <div class="editor-header flex justify-between align-center">
          <h2>Edit Text Lines</h2>

          <div class="editor-header-actions flex">
            <button type="button" onclick="onLineUp()">↑</button>
            <button type="button" onclick="onLineDown()">↓</button>
            <button type="button" onclick="onChangeLine()">⥮</button>
            <button type="button" onclick="onAddLine()">+</button>
            <button type="button" onclick="onRemoveLine()">
              <img src="./images/icons/trash.svg" alt="remove line">
            </button>
          </div>
        </div>

        <div class="editor-content">
          <div class="editor-content-actions flex">
            <div>
              <select name="lineFont">
                <option value="Impact">Impact</option>
              </select>
            </div>

            <button type="button" class="btn-dec-font-size" onclick="onDecFontSize()">A</button>
            <button type="button" class="btn-inc-font-size" onclick="onIncFontSize()">A</button>
            <button type="button" onclick="onAlignLeft()">
              <img src="./images/icons/align-left.svg" alt="align text left">
            </button>
            <button type="button" onclick="onAlignCenter()">
              <img src="./images/icons/align-center.svg" alt="align text center">
            </button>
            <button type="button" onclick="onAlignRight()">
              <img src="./images/icons/align-right.svg" alt="align text right">
            </button>
            <label>
              <img src="./images/icons/font-color.svg" alt="change font color">
              <input type="color" class="hide" oninput="onChangeFontColor(value)">
            </label>
            <label>
              <img src="./images/icons/stroke-color.svg" alt="change stroke color">
              <input type="color" class="hide" oninput="onChangeStrokeColor(value)">
            </label>
          </div>

          <input type="text" name="lineInput" oninput="onChangeLineInput(value)">
        </div>

        <div class="editor-stickers-container"></div>

        <div class="editor-actions flex wrap">
          <button type="button" class="btn-action" onclick="onSaveMeme()">Save</button>
          <button type="button" class="btn-action" onclick="onDownloadMeme(this)">Download</button>
          <button type="button" class="btn-action btn-remove-meme hide" onclick="onRemoveMeme()">Delete</button>
          <button type="button" class="btn-action" onclick="onCloseEditor()">Close</button>
        </div>
      </div>
    </div>

    <header class="main-header flex align-center justify-between">
      <a href="./index.html">
        <img class="logo-img" src="./images/logo.png" alt="MemeGen logo">
      </a>

      <ul class="main-nav clean-list flex">
        <li><a href="#" onclick="onOpenSavedMemes()">Memes</a></li>
        <li><a href="./index.html">Gallery</a></li>
      </ul>
    </header>

    <main class="main-content flex column">
      <section class="filter-section">
        <input type="text" name="filterMeme" placeholder="Search" oninput="onImgFilter(value)">

        <div class="filter-list-container flex wrap justify-center"></div>
      </section>

      <section class="cards-gallery"></section>
    </main>

    <script src="./js/services/util-service.js"></script>
    <script src="./js/services/storage-service.js"></script>
    <script src="./js/services/canvas-service.js"></script>
    <script src="./js/services/image-service.js"></script>
    <script src="./js/services/meme-service.js"></script>
    <script src="./js/canvas-controller.js"></script>
    <script src="./js/editor-controller.js"></script>
    <script src="./js/gallery-controller.js"></script>
  </body>

</html>
